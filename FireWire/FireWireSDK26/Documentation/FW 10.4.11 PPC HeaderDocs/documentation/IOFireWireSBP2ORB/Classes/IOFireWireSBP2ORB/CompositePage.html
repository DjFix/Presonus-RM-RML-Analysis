<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/1998/REC-html40-19980424/loose.dtd">
<html>
<head>
<title>IOFireWireSBP2ORB</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="generator" content="HeaderDoc">
<style type="text/css"><!--a:link {text-decoration: none; font-family: lucida grande, geneva, helvetica, arial, sans-serif; font-size: small; color: #0000ff;}a:visited {text-decoration: none; font-family: lucida grande, geneva, helvetica, arial, sans-serif; font-size: small; color: #0000ff;}a:visited:hover {text-decoration: underline; font-family: lucida grande, geneva, helvetica, arial, sans-serif; font-size: small; color: #ff6600;}a:active {text-decoration: none; font-family: lucida grande, geneva, helvetica, arial, sans-serif; font-size: small; color: #ff6600;}a:hover {text-decoration: underline; font-family: lucida grande, geneva, helvetica, arial, sans-serif; font-size: small; color: #ff6600;}h4 {text-decoration: none; font-family: lucida grande, geneva, helvetica, arial, sans-serif; font-size: tiny; font-weight: bold;}body {text-decoration: none; font-family: lucida grande, geneva, helvetica, arial, sans-serif; font-size: 10pt;}--></style>
</head>
<body bgcolor="#ffffff">
<h1><font face="Geneva,Arial,Helvtica">IOFireWireSBP2ORB</font></h1>
<br><a name="//apple_ref/doc/class/IOFireWireSBP2ORB" title="IOFireWireSBP2ORB"></a><h2>Abstract</h2>
<p>
 Represents an SBP2 normal command ORB.  Supplies the APIs for configuring normal
command ORBs.  This includes setting the command block and writing the page tables for I/O.
The ORBs are executed using the submitORB method in IOFireWireSBP2Login.
<b>Superclass:</b> <!-- a logicalPath="//apple_ref/cpp/cl/IOCommand //apple_ref/cpp/cl/IOCommand //apple_ref/cpp/tdef/IOCommand //apple_ref/cpp/tag/IOCommand //apple_ref/cpp/econst/IOCommand //apple_ref/cpp/struct/IOCommand //apple_ref/cpp/data/IOCommand //apple_ref/cpp/clconst/IOCommand //apple_ref/cpp/instm/IOCommand //apple_ref/cpp/clm/IOCommand //apple_ref/cpp/intfcm/IOCommand //apple_ref/cpp/func/IOCommand //apple_ref/cpp/ftmplt/IOCommand //apple_ref/cpp/defn/IOCommand //apple_ref/cpp/macro/IOCommand" -->IOCommand<!-- /a --><br></p>
<hr>
<br><h2>Member Functions</h2>
<a name="HeaderDoc_functions"></a><dl>
<dt><tt><a href="CompositePage.html#//apple_ref/doc/compositePage/cpp/instm/IOFireWireSBP2ORB/allocatePageTable/virtualIOReturn/(UInt32)" target="_top">allocatePageTable</a></tt></dt>
<dd>Allocates memory for the page table.
</dd>
<dt><tt><a href="CompositePage.html#//apple_ref/doc/compositePage/cpp/instm/IOFireWireSBP2ORB/deallocatePageTable/virtualvoid/()" target="_top">deallocatePageTable</a></tt></dt>
<dd>Frees up memory allocated for the page table.
</dd>
<dt><tt><a href="CompositePage.html#//apple_ref/doc/compositePage/cpp/instm/IOFireWireSBP2ORB/getCommandBufferDescriptor/virtualIOMemoryDescriptor*/()" target="_top">getCommandBufferDescriptor</a></tt></dt>
<dd>Returns the memory descriptor representing the command buffer.
</dd>
<dt><tt><a href="CompositePage.html#//apple_ref/doc/compositePage/cpp/instm/IOFireWireSBP2ORB/getCommandFlags/virtualUInt32/()" target="_top">getCommandFlags</a></tt></dt>
<dd>Gets configuration flags for the ORB.
</dd>
<dt><tt><a href="CompositePage.html#//apple_ref/doc/compositePage/cpp/instm/IOFireWireSBP2ORB/getCommandGeneration/virtualUInt32/()" target="_top">getCommandGeneration</a></tt></dt>
<dd>Gets the command generation.
</dd>
<dt><tt><a href="CompositePage.html#//apple_ref/doc/compositePage/cpp/instm/IOFireWireSBP2ORB/getCommandTimeout/virtualUInt32/()" target="_top">getCommandTimeout</a></tt></dt>
<dd>Gets the timeout of the ORB.
</dd>
<dt><tt><a href="CompositePage.html#//apple_ref/doc/compositePage/cpp/instm/IOFireWireSBP2ORB/getLogin/virtualIOFireWireSBP2Login*/()" target="_top">getLogin</a></tt></dt>
<dd>Gets the login associated with this ORB.
</dd>
<dt><tt><a href="CompositePage.html#//apple_ref/doc/compositePage/cpp/instm/IOFireWireSBP2ORB/getMaxPayloadSize/virtualUInt32/()" target="_top">getMaxPayloadSize</a></tt></dt>
<dd>Gets max payload size for the ORB.
</dd>
<dt><tt><a href="CompositePage.html#//apple_ref/doc/compositePage/cpp/instm/IOFireWireSBP2ORB/getORBAddress/virtualvoid/(FWAddress*)" target="_top">getORBAddress</a></tt></dt>
<dd>Returns the FireWire address of this ORB.
</dd>
<dt><tt><a href="CompositePage.html#//apple_ref/doc/compositePage/cpp/instm/IOFireWireSBP2ORB/getRefCon/virtualvoid*/()" target="_top">getRefCon</a></tt></dt>
<dd>Returns the refCon set with setRefCon.
</dd>
<dt><tt><a href="CompositePage.html#//apple_ref/doc/compositePage/cpp/instm/IOFireWireSBP2ORB/release/virtualvoid/()" target="_top">release</a></tt></dt>
<dd>Primary implementation of the release mechanism.
</dd>
<dt><tt><a href="CompositePage.html#//apple_ref/doc/compositePage/cpp/instm/IOFireWireSBP2ORB/releaseCommandBuffers/virtualIOReturn/()" target="_top">releaseCommandBuffers</a></tt></dt>
<dd>Releases SBP2's reference to the command buffers.
</dd>
<dt><tt><a href="CompositePage.html#//apple_ref/doc/compositePage/cpp/instm/IOFireWireSBP2ORB/setCommandBlock/virtualIOReturn/(IOMemoryDescriptor*)" target="_top">setCommandBlock(IOMemoryDescriptor *)</a></tt></dt>
<dd>Sets the command block portion of the ORB.
</dd>
<dt><tt><a href="CompositePage.html#//apple_ref/doc/compositePage/cpp/instm/IOFireWireSBP2ORB/setCommandBlock/virtualIOReturn/(void*,UInt32)" target="_top">setCommandBlock(void *, UInt32)</a></tt></dt>
<dd>Sets the command block portion of the ORB.
</dd>
<dt><tt><a href="CompositePage.html#//apple_ref/doc/compositePage/cpp/instm/IOFireWireSBP2ORB/setCommandBuffers/virtualIOReturn/(IOMemoryDescriptor*,UInt32,UInt32)" target="_top">setCommandBuffers</a></tt></dt>
<dd>Creates a page table from a list of ranges.
</dd>
<dt><tt><a href="CompositePage.html#//apple_ref/doc/compositePage/cpp/instm/IOFireWireSBP2ORB/setCommandBuffersAsRanges/virtualIOReturn/(IOMemoryDescriptor*,UInt32,UInt32)" target="_top">setCommandBuffersAsRanges(IOMemoryDescriptor *, UInt32, UInt32)</a></tt></dt>
<dd>Creates a page table from a list of ranges.
</dd>
<dt><tt><a href="CompositePage.html#//apple_ref/doc/compositePage/cpp/instm/IOFireWireSBP2ORB/setCommandBuffersAsRanges/virtualIOReturn/(IOVirtualRange*,UInt32,IODirection,task_t,UInt32,UInt32)" target="_top">setCommandBuffersAsRanges(IOVirtualRange *, UInt32, IODirection, task_t, UInt32, UInt32)</a></tt></dt>
<dd>Creates a page table from a list of ranges.
</dd>
<dt><tt><a href="CompositePage.html#//apple_ref/doc/compositePage/cpp/instm/IOFireWireSBP2ORB/setCommandFlags/virtualvoid/(UInt32)" target="_top">setCommandFlags</a></tt></dt>
<dd>Sets configuration flags for the ORB.
</dd>
<dt><tt><a href="CompositePage.html#//apple_ref/doc/compositePage/cpp/instm/IOFireWireSBP2ORB/setCommandGeneration/virtualvoid/(UInt32)" target="_top">setCommandGeneration</a></tt></dt>
<dd>Sets the command generation.
</dd>
<dt><tt><a href="CompositePage.html#//apple_ref/doc/compositePage/cpp/instm/IOFireWireSBP2ORB/setCommandTimeout/virtualvoid/(UInt32)" target="_top">setCommandTimeout</a></tt></dt>
<dd>Sets the timeout of the ORB.
</dd>
<dt><tt><a href="CompositePage.html#//apple_ref/doc/compositePage/cpp/instm/IOFireWireSBP2ORB/setMaxPayloadSize/virtualvoid/(UInt32)" target="_top">setMaxPayloadSize</a></tt></dt>
<dd>Sets max payload size for the ORB.
</dd>
<dt><tt><a href="CompositePage.html#//apple_ref/doc/compositePage/cpp/instm/IOFireWireSBP2ORB/setRefCon/virtualvoid/(void*)" target="_top">setRefCon</a></tt></dt>
<dd>Sets the ORB refCon.
</dd>
</dl>
<hr>
<!-- headerDoc=instm;  uid=//apple_ref/doc/compositePage/cpp/instm/IOFireWireSBP2ORB/allocatePageTable/virtualIOReturn/(UInt32);  name=IOFireWireSBP2ORB::allocatePageTable --><a name="//apple_ref/doc/compositePage/cpp/instm/IOFireWireSBP2ORB/allocatePageTable/virtualIOReturn/(UInt32)"></a><table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5">
<h2><a name="allocatePageTable">allocatePageTable</a></h2>
</td></tr></table>
<p>Allocates memory for the page table.
<br></p>
<blockquote><pre><tt>public</tt>
<br><font class="keyword">virtual</font> <!-- a logicalPath="//apple_ref/cpp/cl/IOReturn //apple_ref/cpp/cl/IOReturn //apple_ref/cpp/tdef/IOReturn //apple_ref/cpp/tag/IOReturn //apple_ref/cpp/econst/IOReturn //apple_ref/cpp/struct/IOReturn //apple_ref/cpp/clconst/IOReturn" --><font class="type">IOReturn</font><!-- /a --> <!-- a logicalPath="//apple_ref/cpp/instm/allocatePageTable //apple_ref/cpp/clm/allocatePageTable //apple_ref/cpp/intfcm/allocatePageTable //apple_ref/cpp/func/allocatePageTable //apple_ref/cpp/ftmplt/allocatePageTable //apple_ref/cpp/defn/allocatePageTable //apple_ref/cpp/macro/allocatePageTable" --><font class="function">allocatePageTable</font><!-- /a -->(
    <!-- a logicalPath="//apple_ref/cpp/cl/UInt32 //apple_ref/cpp/cl/UInt32 //apple_ref/cpp/tdef/UInt32 //apple_ref/cpp/tag/UInt32 //apple_ref/cpp/econst/UInt32 //apple_ref/cpp/struct/UInt32 //apple_ref/cpp/clconst/UInt32" --><font class="type">UInt32</font><!-- /a --> <font class="param">entryCount</font> );</pre></blockquote>
<h5><font face="Lucida Grande,Helvetica,Arial">Discussion</font></h5>
<p>Page table allocation is handle automatically by the ORB, except if the 
kFWSBP2CommandFixedSize flags is set. In this case we will fail to write a page table if we 
need more page table space than we have already. This method is exposed so these drivers 
can preallocate as much page table as they need. This is useful if your driver is part of 
the paging path and cannot allow allocations to occur.
</p>
<h5><font face="Lucida Grande,Helvetica,Arial">Parameter Descriptions</font></h5>
<blockquote>
<dl>
<dt><tt><em>entryCount</em></tt></dt>
<dd>number of entries of page table to be allocated.</dd>
</dl>
</blockquote>
<hr>
<!-- headerDoc=instm;  uid=//apple_ref/doc/compositePage/cpp/instm/IOFireWireSBP2ORB/deallocatePageTable/virtualvoid/();  name=IOFireWireSBP2ORB::deallocatePageTable --><a name="//apple_ref/doc/compositePage/cpp/instm/IOFireWireSBP2ORB/deallocatePageTable/virtualvoid/()"></a><table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5">
<h2><a name="deallocatePageTable">deallocatePageTable</a></h2>
</td></tr></table>
<p>Frees up memory allocated for the page table.
<br></p>
<blockquote><pre><tt>protected</tt>
<br><font class="keyword">virtual</font> <!-- a logicalPath="//apple_ref/cpp/cl/void //apple_ref/cpp/cl/void //apple_ref/cpp/tdef/void //apple_ref/cpp/tag/void //apple_ref/cpp/econst/void //apple_ref/cpp/struct/void //apple_ref/cpp/clconst/void" --><font class="type">void</font><!-- /a --> <!-- a logicalPath="//apple_ref/cpp/instm/deallocatePageTable //apple_ref/cpp/clm/deallocatePageTable //apple_ref/cpp/intfcm/deallocatePageTable //apple_ref/cpp/func/deallocatePageTable //apple_ref/cpp/ftmplt/deallocatePageTable //apple_ref/cpp/defn/deallocatePageTable //apple_ref/cpp/macro/deallocatePageTable" --><font class="function">deallocatePageTable</font><!-- /a -->(
    <font class="param">void</font> );</pre></blockquote>
<h5><font face="Lucida Grande,Helvetica,Arial">Discussion</font></h5>
<p>Frees all memory associated with the page table. Undoes what allocatePageTable does. 
Calling allocatePageTable again will automatically deallocate the existing page table before 
allocating a new one, so this method is not used in most cases.
 </p>
<hr>
<!-- headerDoc=instm;  uid=//apple_ref/doc/compositePage/cpp/instm/IOFireWireSBP2ORB/getCommandBufferDescriptor/virtualIOMemoryDescriptor*/();  name=IOFireWireSBP2ORB::getCommandBufferDescriptor --><a name="//apple_ref/doc/compositePage/cpp/instm/IOFireWireSBP2ORB/getCommandBufferDescriptor/virtualIOMemoryDescriptor*/()"></a><table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5">
<h2><a name="getCommandBufferDescriptor">getCommandBufferDescriptor</a></h2>
</td></tr></table>
<p>Returns the memory descriptor representing the command buffer.
<br></p>
<blockquote><pre><tt>public</tt>
<br><font class="keyword">virtual</font> <!-- a logicalPath="//apple_ref/cpp/cl/IOMemoryDescriptor //apple_ref/cpp/cl/IOMemoryDescriptor //apple_ref/cpp/tdef/IOMemoryDescriptor //apple_ref/cpp/tag/IOMemoryDescriptor //apple_ref/cpp/econst/IOMemoryDescriptor //apple_ref/cpp/struct/IOMemoryDescriptor //apple_ref/cpp/clconst/IOMemoryDescriptor" --><font class="type">IOMemoryDescriptor</font><!-- /a --> <font class="type">*</font> <!-- a logicalPath="//apple_ref/cpp/instm/getCommandBufferDescriptor //apple_ref/cpp/clm/getCommandBufferDescriptor //apple_ref/cpp/intfcm/getCommandBufferDescriptor //apple_ref/cpp/func/getCommandBufferDescriptor //apple_ref/cpp/ftmplt/getCommandBufferDescriptor //apple_ref/cpp/defn/getCommandBufferDescriptor //apple_ref/cpp/macro/getCommandBufferDescriptor" --><font class="function">getCommandBufferDescriptor</font><!-- /a -->(
    <font class="param">void</font> );</pre></blockquote>
<h5><font face="Lucida Grande,Helvetica,Arial">Discussion</font></h5>
<p>Returns the IOMemoryDescriptor for the data mapped by setCommandBuffer variants. 
Works for setCommandBuffersAsRanges too.
</p>
<dl>
<dt><i>function result</i></dt>
<dd>Returns memory descriptor representing mapped data buffers. 
 </dd>
</dl>
<hr>
<!-- headerDoc=instm;  uid=//apple_ref/doc/compositePage/cpp/instm/IOFireWireSBP2ORB/getCommandFlags/virtualUInt32/();  name=IOFireWireSBP2ORB::getCommandFlags --><a name="//apple_ref/doc/compositePage/cpp/instm/IOFireWireSBP2ORB/getCommandFlags/virtualUInt32/()"></a><table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5">
<h2><a name="getCommandFlags">getCommandFlags</a></h2>
</td></tr></table>
<p>Gets configuration flags for the ORB.
<br></p>
<blockquote><pre><tt>public</tt>
<br><font class="keyword">virtual</font> <!-- a logicalPath="//apple_ref/cpp/cl/UInt32 //apple_ref/cpp/cl/UInt32 //apple_ref/cpp/tdef/UInt32 //apple_ref/cpp/tag/UInt32 //apple_ref/cpp/econst/UInt32 //apple_ref/cpp/struct/UInt32 //apple_ref/cpp/clconst/UInt32" --><font class="type">UInt32</font><!-- /a --> <!-- a logicalPath="//apple_ref/cpp/instm/getCommandFlags //apple_ref/cpp/clm/getCommandFlags //apple_ref/cpp/intfcm/getCommandFlags //apple_ref/cpp/func/getCommandFlags //apple_ref/cpp/ftmplt/getCommandFlags //apple_ref/cpp/defn/getCommandFlags //apple_ref/cpp/macro/getCommandFlags" --><font class="function">getCommandFlags</font><!-- /a -->(
    <font class="param">void</font> );</pre></blockquote>
<h5><font face="Lucida Grande,Helvetica,Arial">Discussion</font></h5>
<p>Returns the current configuration flags set on this ORB.
</p>
<dl>
<dt><i>function result</i></dt>
<dd>Return The current ORB flags.
 </dd>
</dl>
<hr>
<!-- headerDoc=instm;  uid=//apple_ref/doc/compositePage/cpp/instm/IOFireWireSBP2ORB/getCommandGeneration/virtualUInt32/();  name=IOFireWireSBP2ORB::getCommandGeneration --><a name="//apple_ref/doc/compositePage/cpp/instm/IOFireWireSBP2ORB/getCommandGeneration/virtualUInt32/()"></a><table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5">
<h2><a name="getCommandGeneration">getCommandGeneration</a></h2>
</td></tr></table>
<p>Gets the command generation.
<br></p>
<blockquote><pre><tt>public</tt>
<br><font class="keyword">virtual</font> <!-- a logicalPath="//apple_ref/cpp/cl/UInt32 //apple_ref/cpp/cl/UInt32 //apple_ref/cpp/tdef/UInt32 //apple_ref/cpp/tag/UInt32 //apple_ref/cpp/econst/UInt32 //apple_ref/cpp/struct/UInt32 //apple_ref/cpp/clconst/UInt32" --><font class="type">UInt32</font><!-- /a --> <!-- a logicalPath="//apple_ref/cpp/instm/getCommandGeneration //apple_ref/cpp/clm/getCommandGeneration //apple_ref/cpp/intfcm/getCommandGeneration //apple_ref/cpp/func/getCommandGeneration //apple_ref/cpp/ftmplt/getCommandGeneration //apple_ref/cpp/defn/getCommandGeneration //apple_ref/cpp/macro/getCommandGeneration" --><font class="function">getCommandGeneration</font><!-- /a -->(
    <font class="param">void</font> );</pre></blockquote>
<h5><font face="Lucida Grande,Helvetica,Arial">Discussion</font></h5>
<p>This gets the bus generation this ORB should be appended in.
</p>
<dl>
<dt><i>function result</i></dt>
<dd>Returns the bus generation for command execution.
 </dd>
</dl>
<hr>
<!-- headerDoc=instm;  uid=//apple_ref/doc/compositePage/cpp/instm/IOFireWireSBP2ORB/getCommandTimeout/virtualUInt32/();  name=IOFireWireSBP2ORB::getCommandTimeout --><a name="//apple_ref/doc/compositePage/cpp/instm/IOFireWireSBP2ORB/getCommandTimeout/virtualUInt32/()"></a><table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5">
<h2><a name="getCommandTimeout">getCommandTimeout</a></h2>
</td></tr></table>
<p>Gets the timeout of the ORB.
<br></p>
<blockquote><pre><tt>public</tt>
<br><font class="keyword">virtual</font> <!-- a logicalPath="//apple_ref/cpp/cl/UInt32 //apple_ref/cpp/cl/UInt32 //apple_ref/cpp/tdef/UInt32 //apple_ref/cpp/tag/UInt32 //apple_ref/cpp/econst/UInt32 //apple_ref/cpp/struct/UInt32 //apple_ref/cpp/clconst/UInt32" --><font class="type">UInt32</font><!-- /a --> <!-- a logicalPath="//apple_ref/cpp/instm/getCommandTimeout //apple_ref/cpp/clm/getCommandTimeout //apple_ref/cpp/intfcm/getCommandTimeout //apple_ref/cpp/func/getCommandTimeout //apple_ref/cpp/ftmplt/getCommandTimeout //apple_ref/cpp/defn/getCommandTimeout //apple_ref/cpp/macro/getCommandTimeout" --><font class="function">getCommandTimeout</font><!-- /a -->(
    <font class="param">void</font> );</pre></blockquote>
<h5><font face="Lucida Grande,Helvetica,Arial">Discussion</font></h5>
<p>This method gets the timeout for this ORB in milliseconds.
</p>
<dl>
<dt><i>function result</i></dt>
<dd>Returns the timeout for the orb in milliseconds.
 </dd>
</dl>
<hr>
<!-- headerDoc=instm;  uid=//apple_ref/doc/compositePage/cpp/instm/IOFireWireSBP2ORB/getLogin/virtualIOFireWireSBP2Login*/();  name=IOFireWireSBP2ORB::getLogin --><a name="//apple_ref/doc/compositePage/cpp/instm/IOFireWireSBP2ORB/getLogin/virtualIOFireWireSBP2Login*/()"></a><table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5">
<h2><a name="getLogin">getLogin</a></h2>
</td></tr></table>
<p>Gets the login associated with this ORB.
<br></p>
<blockquote><pre><tt>public</tt>
<br><font class="keyword">virtual</font> <a href="../../../../documentation/IOFireWireSBP2Login/Classes/IOFireWireSBP2Login/index.html#//apple_ref/cpp/cl/IOFireWireSBP2Login" logicalPath="//apple_ref/cpp/cl/IOFireWireSBP2Login" target="_top"><font class="type">IOFireWireSBP2Login</font></a> <font class="type">*</font> <!-- a logicalPath="//apple_ref/cpp/instm/getLogin //apple_ref/cpp/clm/getLogin //apple_ref/cpp/intfcm/getLogin //apple_ref/cpp/func/getLogin //apple_ref/cpp/ftmplt/getLogin //apple_ref/cpp/defn/getLogin //apple_ref/cpp/macro/getLogin" --><font class="function">getLogin</font><!-- /a -->(
    <font class="param">void</font> );</pre></blockquote>
<h5><font face="Lucida Grande,Helvetica,Arial">Discussion</font></h5>
<p>Returns the IOFireWireSBP2Login object associated with this ORB.
</p>
<dl>
<dt><i>function result</i></dt>
<dd>Returns a pointer to an IOFireWireSBP2Login. 
 </dd>
</dl>
<hr>
<!-- headerDoc=instm;  uid=//apple_ref/doc/compositePage/cpp/instm/IOFireWireSBP2ORB/getMaxPayloadSize/virtualUInt32/();  name=IOFireWireSBP2ORB::getMaxPayloadSize --><a name="//apple_ref/doc/compositePage/cpp/instm/IOFireWireSBP2ORB/getMaxPayloadSize/virtualUInt32/()"></a><table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5">
<h2><a name="getMaxPayloadSize">getMaxPayloadSize</a></h2>
</td></tr></table>
<p>Gets max payload size for the ORB.
<br></p>
<blockquote><pre><tt>public</tt>
<br><font class="keyword">virtual</font> <!-- a logicalPath="//apple_ref/cpp/cl/UInt32 //apple_ref/cpp/cl/UInt32 //apple_ref/cpp/tdef/UInt32 //apple_ref/cpp/tag/UInt32 //apple_ref/cpp/econst/UInt32 //apple_ref/cpp/struct/UInt32 //apple_ref/cpp/clconst/UInt32" --><font class="type">UInt32</font><!-- /a --> <!-- a logicalPath="//apple_ref/cpp/instm/getMaxPayloadSize //apple_ref/cpp/clm/getMaxPayloadSize //apple_ref/cpp/intfcm/getMaxPayloadSize //apple_ref/cpp/func/getMaxPayloadSize //apple_ref/cpp/ftmplt/getMaxPayloadSize //apple_ref/cpp/defn/getMaxPayloadSize //apple_ref/cpp/macro/getMaxPayloadSize" --><font class="function">getMaxPayloadSize</font><!-- /a -->(
    <font class="param">void</font> );</pre></blockquote>
<h5><font face="Lucida Grande,Helvetica,Arial">Discussion</font></h5>
<p>This gets the maximum payload size for this ORB only.
</p>
<dl>
<dt><i>function result</i></dt>
<dd>Returns the maximum payload size in bytes.
 </dd>
</dl>
<hr>
<!-- headerDoc=instm;  uid=//apple_ref/doc/compositePage/cpp/instm/IOFireWireSBP2ORB/getORBAddress/virtualvoid/(FWAddress*);  name=IOFireWireSBP2ORB::getORBAddress --><a name="//apple_ref/doc/compositePage/cpp/instm/IOFireWireSBP2ORB/getORBAddress/virtualvoid/(FWAddress*)"></a><table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5">
<h2><a name="getORBAddress">getORBAddress</a></h2>
</td></tr></table>
<p>Returns the FireWire address of this ORB.
<br></p>
<blockquote><pre><tt>public</tt>
<br><font class="keyword">virtual</font> <!-- a logicalPath="//apple_ref/cpp/cl/void //apple_ref/cpp/cl/void //apple_ref/cpp/tdef/void //apple_ref/cpp/tag/void //apple_ref/cpp/econst/void //apple_ref/cpp/struct/void //apple_ref/cpp/clconst/void" --><font class="type">void</font><!-- /a --> <!-- a logicalPath="//apple_ref/cpp/instm/getORBAddress //apple_ref/cpp/clm/getORBAddress //apple_ref/cpp/intfcm/getORBAddress //apple_ref/cpp/func/getORBAddress //apple_ref/cpp/ftmplt/getORBAddress //apple_ref/cpp/defn/getORBAddress //apple_ref/cpp/macro/getORBAddress" --><font class="function">getORBAddress</font><!-- /a -->(
    <!-- a logicalPath="//apple_ref/cpp/cl/FWAddress //apple_ref/cpp/cl/FWAddress //apple_ref/cpp/tdef/FWAddress //apple_ref/cpp/tag/FWAddress //apple_ref/cpp/econst/FWAddress //apple_ref/cpp/struct/FWAddress //apple_ref/cpp/clconst/FWAddress" --><font class="type">FWAddress</font><!-- /a --> *<font class="param">address</font> );</pre></blockquote>
<h5><font face="Lucida Grande,Helvetica,Arial">Discussion</font></h5>
<p>Returns the FireWire bus address of this ORB. This is not the same as the Macintosh 
address for the IOFireWireSBP2ORB.
</p>
<dl>
<dt><i>function result</i></dt>
<dd>Returns the FireWire address of this ORB.
 </dd>
</dl>
<hr>
<!-- headerDoc=instm;  uid=//apple_ref/doc/compositePage/cpp/instm/IOFireWireSBP2ORB/getRefCon/virtualvoid*/();  name=IOFireWireSBP2ORB::getRefCon --><a name="//apple_ref/doc/compositePage/cpp/instm/IOFireWireSBP2ORB/getRefCon/virtualvoid*/()"></a><table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5">
<h2><a name="getRefCon">getRefCon</a></h2>
</td></tr></table>
<p>Returns the refCon set with setRefCon.
<br></p>
<blockquote><pre><tt>public</tt>
<br><font class="keyword">virtual</font> <!-- a logicalPath="//apple_ref/cpp/cl/void //apple_ref/cpp/cl/void //apple_ref/cpp/tdef/void //apple_ref/cpp/tag/void //apple_ref/cpp/econst/void //apple_ref/cpp/struct/void //apple_ref/cpp/clconst/void" --><font class="type">void</font><!-- /a --> <font class="type">*</font> <!-- a logicalPath="//apple_ref/cpp/instm/getRefCon //apple_ref/cpp/clm/getRefCon //apple_ref/cpp/intfcm/getRefCon //apple_ref/cpp/func/getRefCon //apple_ref/cpp/ftmplt/getRefCon //apple_ref/cpp/defn/getRefCon //apple_ref/cpp/macro/getRefCon" --><font class="function">getRefCon</font><!-- /a -->(
    <font class="param">void</font> );</pre></blockquote>
<h5><font face="Lucida Grande,Helvetica,Arial">Discussion</font></h5>
<p>Returns the user defined value previously stored in the ORB with setRefCon.
</p>
<dl>
<dt><i>function result</i></dt>
<dd>Returns the previously stored user defined value.
 </dd>
</dl>
<hr>
<!-- headerDoc=instm;  uid=//apple_ref/doc/compositePage/cpp/instm/IOFireWireSBP2ORB/release/virtualvoid/();  name=IOFireWireSBP2ORB::release --><a name="//apple_ref/doc/compositePage/cpp/instm/IOFireWireSBP2ORB/release/virtualvoid/()"></a><table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5">
<h2><a name="release">release</a></h2>
</td></tr></table>
<p>Primary implementation of the release mechanism.
<br></p>
<blockquote><pre><tt>public</tt>
<br><font class="keyword">virtual</font> <!-- a logicalPath="//apple_ref/cpp/cl/void //apple_ref/cpp/cl/void //apple_ref/cpp/tdef/void //apple_ref/cpp/tag/void //apple_ref/cpp/econst/void //apple_ref/cpp/struct/void //apple_ref/cpp/clconst/void" --><font class="type">void</font><!-- /a --> <!-- a logicalPath="//apple_ref/cpp/instm/release //apple_ref/cpp/clm/release //apple_ref/cpp/intfcm/release //apple_ref/cpp/func/release //apple_ref/cpp/ftmplt/release //apple_ref/cpp/defn/release //apple_ref/cpp/macro/release" --><font class="function">release</font><!-- /a -->() <font class="keyword">const</font>;</pre></blockquote>
<h5><font face="Lucida Grande,Helvetica,Arial">Discussion</font></h5>
<p>See OSObject.h for more information. 
</p>
<h5><font face="Lucida Grande,Helvetica,Arial">Parameter Descriptions</font></h5>
<blockquote>
<dl>
<dt><tt><em>when</em></tt></dt>
<dd>When retainCount == when then call free().</dd>
</dl>
</blockquote>
<hr>
<!-- headerDoc=instm;  uid=//apple_ref/doc/compositePage/cpp/instm/IOFireWireSBP2ORB/releaseCommandBuffers/virtualIOReturn/();  name=IOFireWireSBP2ORB::releaseCommandBuffers --><a name="//apple_ref/doc/compositePage/cpp/instm/IOFireWireSBP2ORB/releaseCommandBuffers/virtualIOReturn/()"></a><table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5">
<h2><a name="releaseCommandBuffers">releaseCommandBuffers</a></h2>
</td></tr></table>
<p>Releases SBP2's reference to the command buffers.
<br></p>
<blockquote><pre><tt>public</tt>
<br><font class="keyword">virtual</font> <!-- a logicalPath="//apple_ref/cpp/cl/IOReturn //apple_ref/cpp/cl/IOReturn //apple_ref/cpp/tdef/IOReturn //apple_ref/cpp/tag/IOReturn //apple_ref/cpp/econst/IOReturn //apple_ref/cpp/struct/IOReturn //apple_ref/cpp/clconst/IOReturn" --><font class="type">IOReturn</font><!-- /a --> <a href="../../../../documentation/IOFireWireSBP2Lib/index.html?Functions/Functions.html#//apple_ref/c/func/releaseCommandBuffers" logicalPath="//apple_ref/cpp/instm/releaseCommandBuffers //apple_ref/cpp/clm/releaseCommandBuffers //apple_ref/cpp/intfcm/releaseCommandBuffers //apple_ref/cpp/func/releaseCommandBuffers" target="_top"><font class="function">releaseCommandBuffers</font></a>(
    <font class="param">void</font> );</pre></blockquote>
<h5><font face="Lucida Grande,Helvetica,Arial">Discussion</font></h5>
<p>When you create a page table with one of the variants of setCommandBuffers. 
SBP2 holds on to a reference to the buffers until this method is called. This means that 
if a command completed and you manipulated the memory descriptor or released the buffers 
without calling this method you could leave FW in an inconsistent state. 
</p>
<dl>
<dt><i>function result</i></dt>
<dd>Returns KIOReturnSuccess if the page table was cleared successfully. 
 </dd>
</dl>
<hr>
<!-- headerDoc=instm;  uid=//apple_ref/doc/compositePage/cpp/instm/IOFireWireSBP2ORB/setCommandBlock/virtualIOReturn/(IOMemoryDescriptor*);  name=IOFireWireSBP2ORB::setCommandBlock --><a name="//apple_ref/doc/compositePage/cpp/instm/IOFireWireSBP2ORB/setCommandBlock/virtualIOReturn/(IOMemoryDescriptor*)"></a><table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5">
<h2><a name="setCommandBlock(IOMemoryDescriptor%32*)">setCommandBlock(IOMemoryDescriptor *)</a></h2>
</td></tr></table>
<p>Sets the command block portion of the ORB.
<br></p>
<blockquote><pre><tt>public</tt>
<br><font class="keyword">virtual</font> <!-- a logicalPath="//apple_ref/cpp/cl/IOReturn //apple_ref/cpp/cl/IOReturn //apple_ref/cpp/tdef/IOReturn //apple_ref/cpp/tag/IOReturn //apple_ref/cpp/econst/IOReturn //apple_ref/cpp/struct/IOReturn //apple_ref/cpp/clconst/IOReturn" --><font class="type">IOReturn</font><!-- /a --> <a href="../../../../documentation/IOFireWireSBP2Lib/index.html?Functions/Functions.html#//apple_ref/c/func/setCommandBlock" logicalPath="//apple_ref/cpp/instm/setCommandBlock //apple_ref/cpp/clm/setCommandBlock //apple_ref/cpp/intfcm/setCommandBlock //apple_ref/cpp/func/setCommandBlock" target="_top"><font class="function">setCommandBlock</font></a>(
    <!-- a logicalPath="//apple_ref/cpp/cl/IOMemoryDescriptor //apple_ref/cpp/cl/IOMemoryDescriptor //apple_ref/cpp/tdef/IOMemoryDescriptor //apple_ref/cpp/tag/IOMemoryDescriptor //apple_ref/cpp/econst/IOMemoryDescriptor //apple_ref/cpp/struct/IOMemoryDescriptor //apple_ref/cpp/clconst/IOMemoryDescriptor" --><font class="type">IOMemoryDescriptor</font><!-- /a --> *<font class="param">memory</font> );</pre></blockquote>
<h5><font face="Lucida Grande,Helvetica,Arial">Discussion</font></h5>
<p>Copys the data provided in the buffer to the command block portion of the ORB.
</p>
<h5><font face="Lucida Grande,Helvetica,Arial">Parameter Descriptions</font></h5>
<blockquote>
<dl>
<dt><tt><em>memory</em></tt></dt>
<dd>IOMemoryDescriptor representing the command block buffer.</dd>
</dl>
</blockquote>
<dl>
<dt><i>function result</i></dt>
<dd>Returns KIOReturnSuccess if the command block was updated successfully. 
 </dd>
</dl>
<hr>
<!-- headerDoc=instm;  uid=//apple_ref/doc/compositePage/cpp/instm/IOFireWireSBP2ORB/setCommandBlock/virtualIOReturn/(void*,UInt32);  name=IOFireWireSBP2ORB::setCommandBlock --><a name="//apple_ref/doc/compositePage/cpp/instm/IOFireWireSBP2ORB/setCommandBlock/virtualIOReturn/(void*,UInt32)"></a><table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5">
<h2><a name="setCommandBlock(void%32*,%32UInt32)">setCommandBlock(void *, UInt32)</a></h2>
</td></tr></table>
<p>Sets the command block portion of the ORB.
<br></p>
<blockquote><pre><tt>public</tt>
<br><font class="keyword">virtual</font> <!-- a logicalPath="//apple_ref/cpp/cl/IOReturn //apple_ref/cpp/cl/IOReturn //apple_ref/cpp/tdef/IOReturn //apple_ref/cpp/tag/IOReturn //apple_ref/cpp/econst/IOReturn //apple_ref/cpp/struct/IOReturn //apple_ref/cpp/clconst/IOReturn" --><font class="type">IOReturn</font><!-- /a --> <a href="../../../../documentation/IOFireWireSBP2Lib/index.html?Functions/Functions.html#//apple_ref/c/func/setCommandBlock" logicalPath="//apple_ref/cpp/instm/setCommandBlock //apple_ref/cpp/clm/setCommandBlock //apple_ref/cpp/intfcm/setCommandBlock //apple_ref/cpp/func/setCommandBlock" target="_top"><font class="function">setCommandBlock</font></a>(
    <!-- a logicalPath="//apple_ref/cpp/cl/void //apple_ref/cpp/cl/void //apple_ref/cpp/tdef/void //apple_ref/cpp/tag/void //apple_ref/cpp/econst/void //apple_ref/cpp/struct/void //apple_ref/cpp/clconst/void" --><font class="type">void</font><!-- /a --> *<font class="param">buffer</font>,
    <!-- a logicalPath="//apple_ref/cpp/cl/UInt32 //apple_ref/cpp/cl/UInt32 //apple_ref/cpp/tdef/UInt32 //apple_ref/cpp/tag/UInt32 //apple_ref/cpp/econst/UInt32 //apple_ref/cpp/struct/UInt32 //apple_ref/cpp/clconst/UInt32" --><font class="type">UInt32</font><!-- /a --> <font class="param">length</font> );</pre></blockquote>
<h5><font face="Lucida Grande,Helvetica,Arial">Discussion</font></h5>
<p>Copys the data provided in the buffer to the command block portion of the ORB.
</p>
<h5><font face="Lucida Grande,Helvetica,Arial">Parameter Descriptions</font></h5>
<blockquote>
<dl>
<dt><tt><em>buffer</em></tt></dt>
<dd>Pointer to buffer to copy command block from.</dd>
<dt><tt><em>length</em></tt></dt>
<dd>Number of bytes of data to copy.</dd>
</dl>
</blockquote>
<dl>
<dt><i>function result</i></dt>
<dd>Returns KIOReturnSuccess if the command block was updated successfully. 
 </dd>
</dl>
<hr>
<!-- headerDoc=instm;  uid=//apple_ref/doc/compositePage/cpp/instm/IOFireWireSBP2ORB/setCommandBuffers/virtualIOReturn/(IOMemoryDescriptor*,UInt32,UInt32);  name=IOFireWireSBP2ORB::setCommandBuffers --><a name="//apple_ref/doc/compositePage/cpp/instm/IOFireWireSBP2ORB/setCommandBuffers/virtualIOReturn/(IOMemoryDescriptor*,UInt32,UInt32)"></a><table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5">
<h2><a name="setCommandBuffers">setCommandBuffers</a></h2>
</td></tr></table>
<p>Creates a page table from a list of ranges.
<br></p>
<blockquote><pre><tt>public</tt>
<br><font class="keyword">virtual</font> <!-- a logicalPath="//apple_ref/cpp/cl/IOReturn //apple_ref/cpp/cl/IOReturn //apple_ref/cpp/tdef/IOReturn //apple_ref/cpp/tag/IOReturn //apple_ref/cpp/econst/IOReturn //apple_ref/cpp/struct/IOReturn //apple_ref/cpp/clconst/IOReturn" --><font class="type">IOReturn</font><!-- /a --> <!-- a logicalPath="//apple_ref/cpp/instm/setCommandBuffers //apple_ref/cpp/clm/setCommandBuffers //apple_ref/cpp/intfcm/setCommandBuffers //apple_ref/cpp/func/setCommandBuffers //apple_ref/cpp/ftmplt/setCommandBuffers //apple_ref/cpp/defn/setCommandBuffers //apple_ref/cpp/macro/setCommandBuffers" --><font class="function">setCommandBuffers</font><!-- /a -->(
    <!-- a logicalPath="//apple_ref/cpp/cl/IOMemoryDescriptor //apple_ref/cpp/cl/IOMemoryDescriptor //apple_ref/cpp/tdef/IOMemoryDescriptor //apple_ref/cpp/tag/IOMemoryDescriptor //apple_ref/cpp/econst/IOMemoryDescriptor //apple_ref/cpp/struct/IOMemoryDescriptor //apple_ref/cpp/clconst/IOMemoryDescriptor" --><font class="type">IOMemoryDescriptor</font><!-- /a --> *<font class="param">memoryDescriptor</font>,
    <!-- a logicalPath="//apple_ref/cpp/cl/UInt32 //apple_ref/cpp/cl/UInt32 //apple_ref/cpp/tdef/UInt32 //apple_ref/cpp/tag/UInt32 //apple_ref/cpp/econst/UInt32 //apple_ref/cpp/struct/UInt32 //apple_ref/cpp/clconst/UInt32" --><font class="type">UInt32</font><!-- /a --> <!-- a logicalPath="//apple_ref/cpp/cl/offset //apple_ref/cpp/cl/offset //apple_ref/cpp/tdef/offset //apple_ref/cpp/tag/offset //apple_ref/cpp/econst/offset //apple_ref/cpp/struct/offset //apple_ref/cpp/clconst/offset" --><font class="type">offset</font><!-- /a --> = <font class="number">0</font>, 
    <!-- a logicalPath="//apple_ref/cpp/cl/UInt32 //apple_ref/cpp/cl/UInt32 //apple_ref/cpp/tdef/UInt32 //apple_ref/cpp/tag/UInt32 //apple_ref/cpp/econst/UInt32 //apple_ref/cpp/struct/UInt32 //apple_ref/cpp/clconst/UInt32" --><font class="type">UInt32</font><!-- /a --> <!-- a logicalPath="//apple_ref/cpp/cl/length //apple_ref/cpp/cl/length //apple_ref/cpp/tdef/length //apple_ref/cpp/tag/length //apple_ref/cpp/econst/length //apple_ref/cpp/struct/length //apple_ref/cpp/clconst/length" --><font class="type">length</font><!-- /a --> = <font class="number">0</font> );</pre></blockquote>
<h5><font face="Lucida Grande,Helvetica,Arial">Discussion</font></h5>
<p>Creates a page table with the given parameters. Any addresses mapped by this method 
must remain valid until setCommandBuffers is called again or releaseCommandBuffers is called. 
The SBP2 services do not release references to the command buffers just because the command 
has completed.
</p>
<h5><font face="Lucida Grande,Helvetica,Arial">Parameter Descriptions</font></h5>
<blockquote>
<dl>
<dt><tt><em>memoryDescriptor</em></tt></dt>
<dd>IOMemoryDescriptor describe ranges to be written to a page table.</dd>
<dt><tt><em>offset</em></tt></dt>
<dd>Offset in bytes into data to begin writing table at.</dd>
<dt><tt><em>length</em></tt></dt>
<dd>Number of bytes of data to map from offset.</dd>
</dl>
</blockquote>
<dl>
<dt><i>function result</i></dt>
<dd>Returns KIOReturnSuccess if the page table was written successfully. 
 </dd>
</dl>
<hr>
<!-- headerDoc=instm;  uid=//apple_ref/doc/compositePage/cpp/instm/IOFireWireSBP2ORB/setCommandBuffersAsRanges/virtualIOReturn/(IOMemoryDescriptor*,UInt32,UInt32);  name=IOFireWireSBP2ORB::setCommandBuffersAsRanges --><a name="//apple_ref/doc/compositePage/cpp/instm/IOFireWireSBP2ORB/setCommandBuffersAsRanges/virtualIOReturn/(IOMemoryDescriptor*,UInt32,UInt32)"></a><table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5">
<h2><a name="setCommandBuffersAsRanges(IOMemoryDescriptor%32*,%32UInt32,%32UInt32)">setCommandBuffersAsRanges(IOMemoryDescriptor *, UInt32, UInt32)</a></h2>
</td></tr></table>
<p>Creates a page table from a list of ranges.
<br></p>
<blockquote><pre><tt>public</tt>
<br><font class="keyword">virtual</font> <!-- a logicalPath="//apple_ref/cpp/cl/IOReturn //apple_ref/cpp/cl/IOReturn //apple_ref/cpp/tdef/IOReturn //apple_ref/cpp/tag/IOReturn //apple_ref/cpp/econst/IOReturn //apple_ref/cpp/struct/IOReturn //apple_ref/cpp/clconst/IOReturn" --><font class="type">IOReturn</font><!-- /a --> <!-- a logicalPath="//apple_ref/cpp/instm/setCommandBuffers //apple_ref/cpp/clm/setCommandBuffers //apple_ref/cpp/intfcm/setCommandBuffers //apple_ref/cpp/func/setCommandBuffers //apple_ref/cpp/ftmplt/setCommandBuffers //apple_ref/cpp/defn/setCommandBuffers //apple_ref/cpp/macro/setCommandBuffers" --><font class="function">setCommandBuffers</font><!-- /a -->(
    <!-- a logicalPath="//apple_ref/cpp/cl/IOMemoryDescriptor //apple_ref/cpp/cl/IOMemoryDescriptor //apple_ref/cpp/tdef/IOMemoryDescriptor //apple_ref/cpp/tag/IOMemoryDescriptor //apple_ref/cpp/econst/IOMemoryDescriptor //apple_ref/cpp/struct/IOMemoryDescriptor //apple_ref/cpp/clconst/IOMemoryDescriptor" --><font class="type">IOMemoryDescriptor</font><!-- /a --> *<font class="param">memoryDescriptor</font>,
    <!-- a logicalPath="//apple_ref/cpp/cl/UInt32 //apple_ref/cpp/cl/UInt32 //apple_ref/cpp/tdef/UInt32 //apple_ref/cpp/tag/UInt32 //apple_ref/cpp/econst/UInt32 //apple_ref/cpp/struct/UInt32 //apple_ref/cpp/clconst/UInt32" --><font class="type">UInt32</font><!-- /a --> <!-- a logicalPath="//apple_ref/cpp/cl/offset //apple_ref/cpp/cl/offset //apple_ref/cpp/tdef/offset //apple_ref/cpp/tag/offset //apple_ref/cpp/econst/offset //apple_ref/cpp/struct/offset //apple_ref/cpp/clconst/offset" --><font class="type">offset</font><!-- /a --> = <font class="number">0</font>, 
    <!-- a logicalPath="//apple_ref/cpp/cl/UInt32 //apple_ref/cpp/cl/UInt32 //apple_ref/cpp/tdef/UInt32 //apple_ref/cpp/tag/UInt32 //apple_ref/cpp/econst/UInt32 //apple_ref/cpp/struct/UInt32 //apple_ref/cpp/clconst/UInt32" --><font class="type">UInt32</font><!-- /a --> <!-- a logicalPath="//apple_ref/cpp/cl/length //apple_ref/cpp/cl/length //apple_ref/cpp/tdef/length //apple_ref/cpp/tag/length //apple_ref/cpp/econst/length //apple_ref/cpp/struct/length //apple_ref/cpp/clconst/length" --><font class="type">length</font><!-- /a --> = <font class="number">0</font> );</pre></blockquote>
<h5><font face="Lucida Grande,Helvetica,Arial">Discussion</font></h5>
<p>Creates a page table with the given parameters. Any addresses mapped by this method 
must remain valid until setCommandBuffers is called again or releaseCommandBuffers is called. 
The SBP2 services do not release references to the command buffers just because the command 
has completed.
</p>
<h5><font face="Lucida Grande,Helvetica,Arial">Parameter Descriptions</font></h5>
<blockquote>
<dl>
<dt><tt><em>memoryDescriptor</em></tt></dt>
<dd>IOMemoryDescriptor describe ranges to be written to a page table.</dd>
<dt><tt><em>offset</em></tt></dt>
<dd>Offset in bytes into data to begin writing table at.</dd>
<dt><tt><em>length</em></tt></dt>
<dd>Number of bytes of data to map from offset.</dd>
</dl>
</blockquote>
<dl>
<dt><i>function result</i></dt>
<dd>Returns KIOReturnSuccess if the page table was written successfully. 
 </dd>
</dl>
<hr>
<!-- headerDoc=instm;  uid=//apple_ref/doc/compositePage/cpp/instm/IOFireWireSBP2ORB/setCommandBuffersAsRanges/virtualIOReturn/(IOVirtualRange*,UInt32,IODirection,task_t,UInt32,UInt32);  name=IOFireWireSBP2ORB::setCommandBuffersAsRanges --><a name="//apple_ref/doc/compositePage/cpp/instm/IOFireWireSBP2ORB/setCommandBuffersAsRanges/virtualIOReturn/(IOVirtualRange*,UInt32,IODirection,task_t,UInt32,UInt32)"></a><table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5">
<h2><a name="setCommandBuffersAsRanges(IOVirtualRange%32*,%32UInt32,%32IODirection,%32task_t,%32UInt32,%32UInt32)">setCommandBuffersAsRanges(IOVirtualRange *, UInt32, IODirection, task_t, UInt32, UInt32)</a></h2>
</td></tr></table>
<p>Creates a page table from a list of ranges.
<br></p>
<blockquote><pre><tt>public</tt>
<br><font class="keyword">virtual</font> <!-- a logicalPath="//apple_ref/cpp/cl/IOReturn //apple_ref/cpp/cl/IOReturn //apple_ref/cpp/tdef/IOReturn //apple_ref/cpp/tag/IOReturn //apple_ref/cpp/econst/IOReturn //apple_ref/cpp/struct/IOReturn //apple_ref/cpp/clconst/IOReturn" --><font class="type">IOReturn</font><!-- /a --> <a href="../../../../documentation/IOFireWireSBP2Lib/index.html?Functions/Functions.html#//apple_ref/c/func/setCommandBuffersAsRanges" logicalPath="//apple_ref/cpp/instm/setCommandBuffersAsRanges //apple_ref/cpp/clm/setCommandBuffersAsRanges //apple_ref/cpp/intfcm/setCommandBuffersAsRanges //apple_ref/cpp/func/setCommandBuffersAsRanges" target="_top"><font class="function">setCommandBuffersAsRanges</font></a>(
    <!-- a logicalPath="//apple_ref/cpp/cl/IOVirtualRange //apple_ref/cpp/cl/IOVirtualRange //apple_ref/cpp/tdef/IOVirtualRange //apple_ref/cpp/tag/IOVirtualRange //apple_ref/cpp/econst/IOVirtualRange //apple_ref/cpp/struct/IOVirtualRange //apple_ref/cpp/clconst/IOVirtualRange" --><font class="type">IOVirtualRange</font><!-- /a --> *<font class="param">ranges</font>, 
    <!-- a logicalPath="//apple_ref/cpp/cl/UInt32 //apple_ref/cpp/cl/UInt32 //apple_ref/cpp/tdef/UInt32 //apple_ref/cpp/tag/UInt32 //apple_ref/cpp/econst/UInt32 //apple_ref/cpp/struct/UInt32 //apple_ref/cpp/clconst/UInt32" --><font class="type">UInt32</font><!-- /a --> <font class="param">withCount</font>, 
    <!-- a logicalPath="//apple_ref/cpp/cl/IODirection //apple_ref/cpp/cl/IODirection //apple_ref/cpp/tdef/IODirection //apple_ref/cpp/tag/IODirection //apple_ref/cpp/econst/IODirection //apple_ref/cpp/struct/IODirection //apple_ref/cpp/clconst/IODirection" --><font class="type">IODirection</font><!-- /a --> <font class="param">withDirection</font>, 
    <!-- a logicalPath="//apple_ref/cpp/cl/task_t //apple_ref/cpp/cl/task_t //apple_ref/cpp/tdef/task_t //apple_ref/cpp/tag/task_t //apple_ref/cpp/econst/task_t //apple_ref/cpp/struct/task_t //apple_ref/cpp/clconst/task_t" --><font class="type">task_t</font><!-- /a --> <font class="param">withTask</font>, 
    <!-- a logicalPath="//apple_ref/cpp/cl/UInt32 //apple_ref/cpp/cl/UInt32 //apple_ref/cpp/tdef/UInt32 //apple_ref/cpp/tag/UInt32 //apple_ref/cpp/econst/UInt32 //apple_ref/cpp/struct/UInt32 //apple_ref/cpp/clconst/UInt32" --><font class="type">UInt32</font><!-- /a --> <!-- a logicalPath="//apple_ref/cpp/cl/offset //apple_ref/cpp/cl/offset //apple_ref/cpp/tdef/offset //apple_ref/cpp/tag/offset //apple_ref/cpp/econst/offset //apple_ref/cpp/struct/offset //apple_ref/cpp/clconst/offset" --><font class="type">offset</font><!-- /a --> = <font class="number">0</font>, 
    <!-- a logicalPath="//apple_ref/cpp/cl/UInt32 //apple_ref/cpp/cl/UInt32 //apple_ref/cpp/tdef/UInt32 //apple_ref/cpp/tag/UInt32 //apple_ref/cpp/econst/UInt32 //apple_ref/cpp/struct/UInt32 //apple_ref/cpp/clconst/UInt32" --><font class="type">UInt32</font><!-- /a --> <!-- a logicalPath="//apple_ref/cpp/cl/length //apple_ref/cpp/cl/length //apple_ref/cpp/tdef/length //apple_ref/cpp/tag/length //apple_ref/cpp/econst/length //apple_ref/cpp/struct/length //apple_ref/cpp/clconst/length" --><font class="type">length</font><!-- /a --> = <font class="number">0</font> );</pre></blockquote>
<h5><font face="Lucida Grande,Helvetica,Arial">Discussion</font></h5>
<p>Creates a page table with the given parameters. Any addresses mapped by this method 
must remain valid until setCommandBuffers is called again or releaseCommandBuffers is called. 
The SBP2 services do not release references to the command buffers just because the command 
has completed.
</p>
<h5><font face="Lucida Grande,Helvetica,Arial">Parameter Descriptions</font></h5>
<blockquote>
<dl>
<dt><tt><em>ranges</em></tt></dt>
<dd>An array of ranges representing the data to be transfered.</dd>
<dt><tt><em>withCount</em></tt></dt>
<dd>The number of ranges in the ranges array.</dd>
<dt><tt><em>withDirection</em></tt></dt>
<dd>An IODirection indicating the direction of data transfer.</dd>
<dt><tt><em>withTask</em></tt></dt>
<dd>The task that these adressses reside in.</dd>
<dt><tt><em>offset</em></tt></dt>
<dd>Offset in bytes into data to begin writing table at.</dd>
<dt><tt><em>length</em></tt></dt>
<dd>Number of bytes of data to map from offset.</dd>
</dl>
</blockquote>
<dl>
<dt><i>function result</i></dt>
<dd>Returns KIOReturnSuccess if the page table was written successfully. 
 </dd>
</dl>
<hr>
<!-- headerDoc=instm;  uid=//apple_ref/doc/compositePage/cpp/instm/IOFireWireSBP2ORB/setCommandFlags/virtualvoid/(UInt32);  name=IOFireWireSBP2ORB::setCommandFlags --><a name="//apple_ref/doc/compositePage/cpp/instm/IOFireWireSBP2ORB/setCommandFlags/virtualvoid/(UInt32)"></a><table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5">
<h2><a name="setCommandFlags">setCommandFlags</a></h2>
</td></tr></table>
<p>Sets configuration flags for the ORB.
<br></p>
<blockquote><pre><tt>public</tt>
<br><font class="keyword">virtual</font> <!-- a logicalPath="//apple_ref/cpp/cl/void //apple_ref/cpp/cl/void //apple_ref/cpp/tdef/void //apple_ref/cpp/tag/void //apple_ref/cpp/econst/void //apple_ref/cpp/struct/void //apple_ref/cpp/clconst/void" --><font class="type">void</font><!-- /a --> <a href="../../../../documentation/IOFireWireSBP2Lib/index.html?Functions/Functions.html#//apple_ref/c/func/setCommandFlags" logicalPath="//apple_ref/cpp/instm/setCommandFlags //apple_ref/cpp/clm/setCommandFlags //apple_ref/cpp/intfcm/setCommandFlags //apple_ref/cpp/func/setCommandFlags" target="_top"><font class="function">setCommandFlags</font></a>(
    <!-- a logicalPath="//apple_ref/cpp/cl/UInt32 //apple_ref/cpp/cl/UInt32 //apple_ref/cpp/tdef/UInt32 //apple_ref/cpp/tag/UInt32 //apple_ref/cpp/econst/UInt32 //apple_ref/cpp/struct/UInt32 //apple_ref/cpp/clconst/UInt32" --><font class="type">UInt32</font><!-- /a --> <font class="param">flags</font> );</pre></blockquote>
<h5><font face="Lucida Grande,Helvetica,Arial">Discussion</font></h5>
<p>Sets the configuration flags for the ORB. These can be any of the following:
</p>
<p>kFWSBP2CommandCompleteNotify - Set the notify bit as specified in SBP2 standard. Set to receive completion/timeout notification on this ORB. You almost always want to set this.</p>
<p>kFWSBP2CommandTransferDataFromTarget - Transfer direction as specified in SBP2 standard. Set if data is to be written by the device into the host's memory.</p>
<p>kFWSBP2CommandImmediate - Immediate Append. ORB address will be written to fetch agent and not chained. It is only legal to have one immediate ORB in progress at a time.</p>
<p>kFWSBP2CommandNormalORB - ORB format 0 - Format specified by SBP2 standard. Set this for most ORBs.</p>
<p>kFWSBP2CommandReservedORB - ORB format 1 - Format reserved by SBP2 standard for future standardization.</p>
<p>kFWSBP2CommandVendorORB - ORB format 2 - Format specified by SBP2 standard for vendor dependent ORBs.</p>
<p>kFWSBP2CommandDummyORB - ORB format 3 - Format specified by SBP2 standard for dummy ORBs.</p>
<p>kFWSBP2CommandCheckGeneration - If set upon submitORB, the ORB will only be appended if generation set with setCommandGeneration() matches the current generation. Pretty much all SBP2 drivers need sophisticated logic to track login state, so this is generally not used. </p>
<p>kFWSBP2CommandFixedSize - Do not allocate more memory for page table if needed. If there is not enough space in the currently allocated page table, the setCommandBuffers call will fail. This is important to set if your device is the backing store, as we don't want to cause memory allocations on the paging path. </p>
<p>kFWSBP2CommandVirtualORBs - Normally ORBs are backed by physical address spaces. Setting this flag makes this ORB backed by a pseudo address space. This can make ORBs easier to see in a bus trace. Virtual ORBs will have an address in the form of ffcX.XXXX.0000.0000. Pseudo address space backed ORBs are slower, so you won't want to set for deployment builds.</p>
<h5><font face="Lucida Grande,Helvetica,Arial">Parameter Descriptions</font></h5>
<blockquote>
<dl>
<dt><tt><em>flags</em></tt></dt>
<dd>The flags to be set.</dd>
</dl>
</blockquote>
<hr>
<!-- headerDoc=instm;  uid=//apple_ref/doc/compositePage/cpp/instm/IOFireWireSBP2ORB/setCommandGeneration/virtualvoid/(UInt32);  name=IOFireWireSBP2ORB::setCommandGeneration --><a name="//apple_ref/doc/compositePage/cpp/instm/IOFireWireSBP2ORB/setCommandGeneration/virtualvoid/(UInt32)"></a><table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5">
<h2><a name="setCommandGeneration">setCommandGeneration</a></h2>
</td></tr></table>
<p>Sets the command generation.
<br></p>
<blockquote><pre><tt>public</tt>
<br><font class="keyword">virtual</font> <!-- a logicalPath="//apple_ref/cpp/cl/void //apple_ref/cpp/cl/void //apple_ref/cpp/tdef/void //apple_ref/cpp/tag/void //apple_ref/cpp/econst/void //apple_ref/cpp/struct/void //apple_ref/cpp/clconst/void" --><font class="type">void</font><!-- /a --> <a href="../../../../documentation/IOFireWireSBP2Lib/index.html?Functions/Functions.html#//apple_ref/c/func/setCommandGeneration" logicalPath="//apple_ref/cpp/instm/setCommandGeneration //apple_ref/cpp/clm/setCommandGeneration //apple_ref/cpp/intfcm/setCommandGeneration //apple_ref/cpp/func/setCommandGeneration" target="_top"><font class="function">setCommandGeneration</font></a>(
    <!-- a logicalPath="//apple_ref/cpp/cl/UInt32 //apple_ref/cpp/cl/UInt32 //apple_ref/cpp/tdef/UInt32 //apple_ref/cpp/tag/UInt32 //apple_ref/cpp/econst/UInt32 //apple_ref/cpp/struct/UInt32 //apple_ref/cpp/clconst/UInt32" --><font class="type">UInt32</font><!-- /a --> <font class="param">gen</font> );</pre></blockquote>
<h5><font face="Lucida Grande,Helvetica,Arial">Discussion</font></h5>
<p>This sets the bus generation this ORB should be appended in. It is only meaningful 
when combined with the kFWSBP2CommandCheckGeneration flags above.
</p>
<h5><font face="Lucida Grande,Helvetica,Arial">Parameter Descriptions</font></h5>
<blockquote>
<dl>
<dt><tt><em>gen</em></tt></dt>
<dd>The bus generation for command execution.</dd>
</dl>
</blockquote>
<hr>
<!-- headerDoc=instm;  uid=//apple_ref/doc/compositePage/cpp/instm/IOFireWireSBP2ORB/setCommandTimeout/virtualvoid/(UInt32);  name=IOFireWireSBP2ORB::setCommandTimeout --><a name="//apple_ref/doc/compositePage/cpp/instm/IOFireWireSBP2ORB/setCommandTimeout/virtualvoid/(UInt32)"></a><table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5">
<h2><a name="setCommandTimeout">setCommandTimeout</a></h2>
</td></tr></table>
<p>Sets the timeout of the ORB.
<br></p>
<blockquote><pre><tt>public</tt>
<br><font class="keyword">virtual</font> <!-- a logicalPath="//apple_ref/cpp/cl/void //apple_ref/cpp/cl/void //apple_ref/cpp/tdef/void //apple_ref/cpp/tag/void //apple_ref/cpp/econst/void //apple_ref/cpp/struct/void //apple_ref/cpp/clconst/void" --><font class="type">void</font><!-- /a --> <a href="../../../../documentation/IOFireWireSBP2Lib/index.html?Functions/Functions.html#//apple_ref/c/func/setCommandTimeout" logicalPath="//apple_ref/cpp/instm/setCommandTimeout //apple_ref/cpp/clm/setCommandTimeout //apple_ref/cpp/intfcm/setCommandTimeout //apple_ref/cpp/func/setCommandTimeout" target="_top"><font class="function">setCommandTimeout</font></a>(
    <!-- a logicalPath="//apple_ref/cpp/cl/UInt32 //apple_ref/cpp/cl/UInt32 //apple_ref/cpp/tdef/UInt32 //apple_ref/cpp/tag/UInt32 //apple_ref/cpp/econst/UInt32 //apple_ref/cpp/struct/UInt32 //apple_ref/cpp/clconst/UInt32" --><font class="type">UInt32</font><!-- /a --> <font class="param">timeout</font> );</pre></blockquote>
<h5><font face="Lucida Grande,Helvetica,Arial">Discussion</font></h5>
<p>This sets the timeout for the ORB in milliseconds. Note that ORBs without timeouts 
can be "lost." You will obviously not recieve timeout notification for timeouts of zero. But 
perhaps less obviously you will not recieve orb reset notification, which is really a sort of
accelerated timeout notification for bus reset situations. 
</p>
<h5><font face="Lucida Grande,Helvetica,Arial">Parameter Descriptions</font></h5>
<blockquote>
<dl>
<dt><tt><em>timeout</em></tt></dt>
<dd>The timeout duration in milliseconds.</dd>
</dl>
</blockquote>
<hr>
<!-- headerDoc=instm;  uid=//apple_ref/doc/compositePage/cpp/instm/IOFireWireSBP2ORB/setMaxPayloadSize/virtualvoid/(UInt32);  name=IOFireWireSBP2ORB::setMaxPayloadSize --><a name="//apple_ref/doc/compositePage/cpp/instm/IOFireWireSBP2ORB/setMaxPayloadSize/virtualvoid/(UInt32)"></a><table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5">
<h2><a name="setMaxPayloadSize">setMaxPayloadSize</a></h2>
</td></tr></table>
<p>Sets max payload size for the ORB.
<br></p>
<blockquote><pre><tt>public</tt>
<br><font class="keyword">virtual</font> <!-- a logicalPath="//apple_ref/cpp/cl/void //apple_ref/cpp/cl/void //apple_ref/cpp/tdef/void //apple_ref/cpp/tag/void //apple_ref/cpp/econst/void //apple_ref/cpp/struct/void //apple_ref/cpp/clconst/void" --><font class="type">void</font><!-- /a --> <a href="../../../../documentation/IOFireWireSBP2Lib/index.html?Functions/Functions.html#//apple_ref/c/func/setMaxPayloadSize" logicalPath="//apple_ref/cpp/instm/setMaxPayloadSize //apple_ref/cpp/clm/setMaxPayloadSize //apple_ref/cpp/intfcm/setMaxPayloadSize //apple_ref/cpp/func/setMaxPayloadSize" target="_top"><font class="function">setMaxPayloadSize</font></a>(
    <!-- a logicalPath="//apple_ref/cpp/cl/UInt32 //apple_ref/cpp/cl/UInt32 //apple_ref/cpp/tdef/UInt32 //apple_ref/cpp/tag/UInt32 //apple_ref/cpp/econst/UInt32 //apple_ref/cpp/struct/UInt32 //apple_ref/cpp/clconst/UInt32" --><font class="type">UInt32</font><!-- /a --> <font class="param">maxPayloadSize</font> );</pre></blockquote>
<h5><font face="Lucida Grande,Helvetica,Arial">Discussion</font></h5>
<p>This sets the maximum payload size for this ORB only. This size is clipped by 
the global max payload size set in the login object.
</p>
<h5><font face="Lucida Grande,Helvetica,Arial">Parameter Descriptions</font></h5>
<blockquote>
<dl>
<dt><tt><em>maxPayloadSize</em></tt></dt>
<dd>The maximum payload size in bytes.</dd>
</dl>
</blockquote>
<hr>
<!-- headerDoc=instm;  uid=//apple_ref/doc/compositePage/cpp/instm/IOFireWireSBP2ORB/setRefCon/virtualvoid/(void*);  name=IOFireWireSBP2ORB::setRefCon --><a name="//apple_ref/doc/compositePage/cpp/instm/IOFireWireSBP2ORB/setRefCon/virtualvoid/(void*)"></a><table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5">
<h2><a name="setRefCon">setRefCon</a></h2>
</td></tr></table>
<p>Sets the ORB refCon.
<br></p>
<blockquote><pre><tt>public</tt>
<br><font class="keyword">virtual</font> <!-- a logicalPath="//apple_ref/cpp/cl/void //apple_ref/cpp/cl/void //apple_ref/cpp/tdef/void //apple_ref/cpp/tag/void //apple_ref/cpp/econst/void //apple_ref/cpp/struct/void //apple_ref/cpp/clconst/void" --><font class="type">void</font><!-- /a --> <!-- a logicalPath="//apple_ref/cpp/instm/setRefCon //apple_ref/cpp/clm/setRefCon //apple_ref/cpp/intfcm/setRefCon //apple_ref/cpp/func/setRefCon //apple_ref/cpp/ftmplt/setRefCon //apple_ref/cpp/defn/setRefCon //apple_ref/cpp/macro/setRefCon" --><font class="function">setRefCon</font><!-- /a -->(
    <!-- a logicalPath="//apple_ref/cpp/cl/void //apple_ref/cpp/cl/void //apple_ref/cpp/tdef/void //apple_ref/cpp/tag/void //apple_ref/cpp/econst/void //apple_ref/cpp/struct/void //apple_ref/cpp/clconst/void" --><font class="type">void</font><!-- /a --> *<font class="param">refCon</font> );</pre></blockquote>
<h5><font face="Lucida Grande,Helvetica,Arial">Discussion</font></h5>
<p>Sets a user defined value on the ORB that can be retrieved later with the 
method getRefCon.
</p>
<h5><font face="Lucida Grande,Helvetica,Arial">Parameter Descriptions</font></h5>
<blockquote>
<dl>
<dt><tt><em>refCon</em></tt></dt>
<dd>a user defined value.</dd>
</dl>
</blockquote>
<hr>
<h2>Member Data</h2>
<hr>
<p>(Last Updated July 26, 2007)
</p>
</body>
</html>
